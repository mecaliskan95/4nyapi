const translations = {
    tr: {
        "hero-title": "DÖRT DÖRTLÜK KALİTE<br>DÖRT DÖRTLÜK GÜVEN",
        "hero-intro": "4N Yapı olarak, konut, ticari ve sanayi yapılarında kaliteyi, mühendisliği ve estetiği bir araya getiriyoruz. Ankara merkezli firmamızla, güvenilir ve modern yaşam alanları inşa ediyor, geleceğe sağlam adımlar atıyoruz.",
        "nav-kurumsal": "KURUMSAL",
        "nav-projeler": "PROJELERİMİZ",
        "nav-iletisim": "İLETİŞİM",
        "mobile-menu-toggle": "Menüyü aç/kapat",
        "section-kurumsal": "KURUMSAL",
        "section-projeler": "PROJELERİMİZ",
        "section-iletisim": "İLETİŞİM",
        "about-text": "4N Yapı (Dörten Yapı Sanayi Turizm Ticaret Ltd. Şti.), inşaat sektöründe güvenilirlik, kalite ve mühendislik mükemmelliğini temel alan profesyonel bir anlayışla hizmet vermektedir. Ankara merkezli şirketimiz; konut, ticari alanlar, sanayi tesisleri ve çelik/betonarme yapılar başta olmak üzere geniş bir yelpazede projelendirme ve uygulama hizmeti sunmaktadır. Alanında uzman teknik ekibimiz ve çözüm odaklı yaklaşımımızla, projelerin her aşamasında maksimum verimlilik ve müşteri memnuniyeti hedeflenmektedir.",
        "vision-title": "VİZYONUMUZ",
        "vision-text": "Hedefimiz, daima iyi işlere imza atarak alanımızda ilk akla gelen isimlerden biri olmak, sektördeki kalitenin sürekli yükselmesini sağlamaktır. Ayrıca sürekli büyüme ile sağlayacağımız istihdam, ülke ekonomisine katkıda bulunacaktır.",
        "mission-title": "MİSYONUMUZ",
        "mission-text": "Güvenilirliğimiz, kalite anlayışımız ve profesyonel yaklaşımımızla sektörde örnek olmak, her projeye aynı özeni yansıtmak asli görevimizdir. Amacımız modern teknolojiyle, uzman ve eğitimli kadrolara yatırım yaparak başarıyı her zaman en üst seviyede tutabilmektir.",
        "projects-intro": "4N Yapı, kuruluşundan bu yana birçok başarılı projeye imza atmıştır. Konut, iş merkezi ve endüstriyel yapı kategorilerinde uzmanlaşmış ekibimizle; işlevsel, estetik ve yönetmeliklere tam uyumlu yapılar tasarlayıp hayata geçiriyoruz. Referans projelerimiz, mühendislik hassasiyeti ve kullanıcı memnuniyetini bir arada sunan profesyonel çözümlerimizle şekillenmektedir.",
        "featured-projects": "ÖNE ÇIKAN PROJELERİMİZ",
        "all-projects": "TÜM PROJELERİMİZ",
        "hide-all-projects": "Gizle",
        "residential-projects": "Konut Projeleri",
        "commercial-projects": "Ticari Projeler",
        "industrial-projects": "Sanayi Projeleri",
        "public-projects": "Kamu Projeleri",
        "tourism-projects": "Turizm Projeleri",
        "contact-intro": "4N Yapı ile projelerinizi güvenle hayata geçirmek için bizimle iletişime geçin. Ofisimiz Ankara'nın Çankaya ilçesinde yer almakta olup, telefon veya e-posta aracılığıyla bize kolayca ulaşabilirsiniz. Dilerseniz aşağıdaki form üzerinden de bize mesaj gönderebilirsiniz – en kısa sürede dönüş sağlanacaktır.",
        "contact-address": "Adres",
        "contact-phone": "Telefon",
        "contact-email": "E-posta",
        "form-name": "Adınız",
        "form-email": "E-posta Adresiniz",
        "form-phone": "Telefon Numaranız",
        "form-message": "Mesajınız",
        "form-submit": "Gönder",
        "form-name-placeholder": "Adınız *",
        "form-email-placeholder": "E-posta Adresiniz *",
        "form-phone-placeholder": "Telefon Numaranız",
        "form-message-placeholder": "Mesajınız *",
        "contact-form-title": "İletişim Formu",
        "map-title": "Ofis Konumumuz",
        "form-sending": "Gönderiliyor...",
        "form-success": "Mesajınız başarıyla gönderildi! En kısa sürede size dönüş yapacağız.",
        "form-error": "Mesaj gönderilirken bir hata oluştu. Lütfen tekrar deneyin.",
        "form-required": "Bu alan zorunludur",
        "form-email-invalid": "Geçerli bir e-posta adresi giriniz",
        "form-phone-invalid": "Geçerli bir telefon numarası giriniz",
        "footer-description": "Dörten Yapı Sanayi Turizm Ticaret Ltd. Şti.<br>İnşaat ve yapı sektöründe kalite, güvenilirlik ve mühendislik mükemmelliği ile hizmet vermekteyiz.",
        "footer-contact-title": "İletişim",
        "footer-copyright": "&copy; 2025 Dörten Yapı Sanayi. Tüm hakları saklıdır.",
        "logo-alt": "Dörten Yapı Sanayi Logo",
        "meta-description": "Dörten Yapı - İnşaat, yapı ve müteahhitlik hizmetleri. Ankara'da profesyonel ve güvenilir yapı çözümleri.",
        "meta-keywords": "4n Yapı, Dörten Yapı, inşaat, müteahhit, yapı, Ankara, inşaat firması, müteahhitlik",
        "loading-text": "Yükleniyor...",
        "btn-view-projects": "Projelerimizi İnceleyin",
        "btn-contact-us": "İletişime Geçin"
    },
    en: {
        "hero-title": "PERFECT QUALITY<br>PERFECT TRUST",
        "hero-intro": "As 4N Yapı, we bring together quality, engineering and aesthetics in residential, commercial and industrial structures. With our Ankara-based company, we build safe and modern living spaces and take firm steps towards the future.",
        "nav-kurumsal": "CORPORATE",
        "nav-projeler": "PROJECTS",
        "nav-iletisim": "CONTACT",
        "mobile-menu-toggle": "Toggle menu",
        "section-kurumsal": "CORPORATE",
        "section-projeler": "PROJECTS",
        "section-iletisim": "CONTACT",
        "about-text": "4N Yapı (Dörten Yapı Sanayi Turizm Ticaret Ltd. Şti.) operates with an understanding based on reliability, quality and engineering power in the construction sector. Our Ankara-based company provides design and implementation services in many areas, especially housing, commercial areas, industrial facilities and steel/reinforced concrete structures. With our experienced technical team and solution-oriented approach, maximum efficiency and satisfaction are targeted at every stage of the projects.",
        "vision-title": "VISION",
        "vision-text": "Our goal is to become one of the first names that come to mind in our field by always signing good works and ensuring the continuous improvement of quality in the sector. In addition, the employment we will provide with continuous growth will contribute to the country's economy.",
        "mission-title": "MISSION",
        "mission-text": "Being an example in the sector with our reliability, quality understanding and professional approach, reflecting the same care to every project is our main duty. Our aim is to keep success at the highest level at all times by investing in modern technology and expert and trained staff.",
        "projects-intro": "4N Yapı has signed many successful projects since its establishment. With our team specialized in residential, business center and industrial building categories, we design and implement functional, aesthetic and fully compliant structures. Our reference projects are shaped by our solutions that combine engineering precision and user satisfaction.",
        "featured-projects": "FEATURED PROJECTS",
        "all-projects": "ALL PROJECTS",
        "hide-all-projects": "Hide",
        "residential-projects": "Residential Projects",
        "commercial-projects": "Commercial Projects",
        "industrial-projects": "Industrial Projects",
        "public-projects": "Public Projects",
        "tourism-projects": "Tourism Projects",
        "contact-intro": "Contact us to safely bring your projects to life with 4N Yapı. Our office is located in Çankaya district of Ankara, and you can easily reach us by phone or email. If you wish, you can also send us a message through the form below – we will respond as soon as possible.",
        "contact-address": "Address",
        "contact-phone": "Phone",
        "contact-email": "Email",
        "form-name": "Your Name",
        "form-email": "Your Email",
        "form-phone": "Your Phone Number",
        "form-message": "Your Message",
        "form-submit": "Send",
        "form-name-placeholder": "Your Name *",
        "form-email-placeholder": "Your Email Address *",
        "form-phone-placeholder": "Your Phone Number",
        "form-message-placeholder": "Your Message *",
        "contact-form-title": "Contact Form",
        "map-title": "Office Location",
        "form-sending": "Sending...",
        "form-success": "Your message has been sent successfully! We will get back to you as soon as possible.",
        "form-error": "An error occurred while sending the message. Please try again.",
        "form-required": "This field is required",
        "form-email-invalid": "Please enter a valid email address",
        "form-phone-invalid": "Please enter a valid phone number",
        "footer-description": "Dörten Yapı Sanayi Turizm Ticaret Ltd. Şti.<br>We serve in the construction and building sector with quality, reliability and engineering excellence.",
        "footer-contact-title": "Contact",
        "footer-copyright": "&copy; 2025 Dörten Yapı Sanayi. All rights reserved.",
        "logo-alt": "Dörten Yapı Sanayi Logo",
        "meta-description": "Dörten Yapı - Construction, building and contracting services. Professional and reliable building solutions in Ankara.",
        "meta-keywords": "4n Construction, Dörten Yapı, construction, contractor, building, Ankara, construction company, contracting",
        "loading-text": "Loading...",
        "btn-view-projects": "View Our Projects",
        "btn-contact-us": "Contact Us"
    }
};

// Enhanced Loading Animation with smooth transitions
function showLoading() {
    const loading = document.querySelector('.loading');
    if (loading) {
        loading.classList.remove('hidden');
        loading.style.display = 'flex';
        loading.style.opacity = '0';
        requestAnimationFrame(() => {
            loading.style.transition = 'opacity 0.5s ease-in-out';
            loading.style.opacity = '1';
        });
    }
}

function hideLoading() {
    const loading = document.querySelector('.loading');
    if (loading) {
        loading.style.opacity = '0';
        loading.classList.add('hidden');
        setTimeout(() => {
            loading.style.display = 'none';
        }, 500);
    }
}

// Enhanced scroll progress with smooth animation
// Simple header is now completely fixed - no JavaScript needed for positioning
function updateScrollProgress() {
    const progressBar = document.querySelector('.progress-bar');
    if (progressBar) {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        progressBar.style.width = scrolled + '%';
    }
}

// Enhanced smooth scrolling with easing
function smoothScrollTo(targetId) {
    const target = document.querySelector(targetId);
    if (target) {
        const targetPosition = target.offsetTop - 80; // Account for fixed header
        const startPosition = window.pageYOffset;
        const distance = targetPosition - startPosition;
        const duration = 800; // Smooth duration
        let start = null;

        function step(timestamp) {
            if (!start) start = timestamp;
            const progress = timestamp - start;
            const progressPercentage = Math.min(progress / duration, 1);
            
            // Easing function for smooth animation
            const easeInOutCubic = progressPercentage < 0.5 
                ? 4 * progressPercentage * progressPercentage * progressPercentage 
                : 1 - Math.pow(-2 * progressPercentage + 2, 3) / 2;
            
            window.scrollTo(0, startPosition + distance * easeInOutCubic);
            
            if (progress < duration) {
                requestAnimationFrame(step);
            }
        }
        
        requestAnimationFrame(step);
    }
}

// Enhanced initialization with performance optimizations
function initializeSimpleEffects() {
    // Add enhanced click handlers for navigation with ripple effect
    const navLinks = document.querySelectorAll('a[href^="#"]');
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href');
            smoothScrollTo(targetId);
            
            // Add active state animation
            link.style.transform = 'scale(0.95)';
            setTimeout(() => {
                link.style.transform = 'scale(1)';
            }, 150);
        });
    });
    
    // Enhanced project image interactions with lazy loading and zoom
    const projectImages = document.querySelectorAll('.project-image');
    projectImages.forEach(image => {
        image.style.cursor = 'pointer';
        
        // Add hover effect
        image.addEventListener('mouseenter', () => {
            image.style.transform = 'scale(1.02)';
            image.style.filter = 'brightness(1.05) saturate(1.1)';
        });
        
        image.addEventListener('mouseleave', () => {
            image.style.transform = 'scale(1)';
            image.style.filter = 'brightness(1) saturate(1)';
        });
        
        image.addEventListener('click', () => {
            // Add click animation
            image.style.transform = 'scale(0.98)';
            setTimeout(() => {
                image.style.transform = 'scale(1.02)';
                window.open(image.src, '_blank');
            }, 100);
        });
        
        // Enhanced lazy loading
        if (!image.hasAttribute('loading')) {
            image.setAttribute('loading', 'lazy');
        }
    });
    
    // Enhanced gallery interactions with smooth transitions
    const galleryImages = document.querySelectorAll('.gallery-slide img');
    galleryImages.forEach(image => {
        image.style.cursor = 'pointer';
        image.addEventListener('click', (e) => {
            e.stopPropagation();
            
            const gallery = image.closest('.project-gallery');
            const activeSlide = gallery.querySelector('.gallery-slide.active');
            const activeImage = activeSlide.querySelector('img');
            
            // Add click animation
            activeImage.style.transform = 'scale(0.95)';
            setTimeout(() => {
                activeImage.style.transform = 'scale(1)';
                window.open(activeImage.src, '_blank');
            }, 150);
        });
    });
    
    // Add click handlers for language buttons
    const langButtons = document.querySelectorAll('.lang-btn');
    langButtons.forEach(button => {
        button.addEventListener('click', () => {
            const lang = button.dataset.lang;
            changeLanguage(lang);
        });
    });
}

// Header is now completely fixed - no scroll handling needed
function handleScroll() {
    // Update progress bar only
    updateScrollProgress();
}

// Enhanced Form Validation and Submission
function initializeContactForm() {
    const form = document.getElementById('contactForm');
    if (!form) return;

    const inputs = form.querySelectorAll('input, textarea');
    
    // Add real-time validation
    inputs.forEach(input => {
        input.addEventListener('blur', validateField);
        input.addEventListener('input', clearErrors);
    });

    function validateField(e) {
        const field = e.target;
        const value = field.value.trim();
        
        // Remove existing error messages
        clearFieldError(field);
        
        // Validation rules
        const currentLang = localStorage.getItem('preferredLanguage') || 'tr';
        
        if (field.hasAttribute('required') && !value) {
            showFieldError(field, translations[currentLang]['form-required']);
            return false;
        }
        
        if (field.type === 'email' && value && !isValidEmail(value)) {
            showFieldError(field, translations[currentLang]['form-email-invalid']);
            return false;
        }
        
        if (field.type === 'tel' && value && !isValidPhone(value)) {
            showFieldError(field, translations[currentLang]['form-phone-invalid']);
            return false;
        }
        
        return true;
    }

    function clearErrors(e) {
        clearFieldError(e.target);
    }

    function showFieldError(field, message) {
        field.classList.add('error');
        const errorDiv = document.createElement('div');
        errorDiv.className = 'field-error';
        errorDiv.textContent = message;
        errorDiv.style.color = '#dc2626';
        errorDiv.style.fontSize = '0.875rem';
        errorDiv.style.marginTop = '0.25rem';
        field.parentNode.appendChild(errorDiv);
    }

    function clearFieldError(field) {
        field.classList.remove('error');
        const errorDiv = field.parentNode.querySelector('.field-error');
        if (errorDiv) {
            errorDiv.remove();
        }
    }

    function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function isValidPhone(phone) {
        return /^[\+]?[0-9\s\-\(\)]{10,}$/.test(phone);
    }

    // Form submission with loading state
    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Validate all fields
        let isValid = true;
        inputs.forEach(input => {
            if (!validateField({ target: input })) {
                isValid = false;
            }
        });

        if (!isValid) return;

        const submitBtn = form.querySelector('.submit-btn');
        const originalText = submitBtn.textContent;
        const currentLang = localStorage.getItem('preferredLanguage') || 'tr';
        
        // Show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = translations[currentLang]['form-sending'];
        submitBtn.style.opacity = '0.7';

        try {
            // Simulate form submission (replace with actual endpoint)
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Success state
            submitBtn.textContent = translations[currentLang]['form-success'];
            submitBtn.style.background = '#10b981';
            
            // Reset form after success
            setTimeout(() => {
                form.reset();
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
                submitBtn.style.opacity = '1';
                submitBtn.style.background = '';
            }, 3000);
            
        } catch (error) {
            // Error state
            submitBtn.textContent = translations[currentLang]['form-error'];
            submitBtn.style.background = '#dc2626';
            
            setTimeout(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
                submitBtn.style.opacity = '1';
                submitBtn.style.background = '';
            }, 3000);
        }
    });
}

// Simple Contact Form Handler
class SimpleContactForm {
    constructor() {
        this.form = document.getElementById('contactForm');
        this.submitBtn = null;
        
        if (this.form) {
            this.submitBtn = this.form.querySelector('.submit-btn');
            this.init();
        }
    }
    
    init() {
        this.form.addEventListener('submit', (e) => this.handleSubmit(e));
        
        // Add real-time validation
        const inputs = this.form.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            input.addEventListener('blur', (e) => this.validateField(e.target));
            input.addEventListener('input', (e) => this.clearFieldError(e.target));
        });
    }
    
    getCurrentLanguage() {
        const activeBtn = document.querySelector('.lang-btn.active');
        return activeBtn ? activeBtn.dataset.lang : 'tr';
    }
    
    getTranslation(key) {
        const lang = this.getCurrentLanguage();
        return translations[lang] && translations[lang][key] ? translations[lang][key] : key;
    }
    
    validateField(field) {
        const value = field.value.trim();
        
        // Clear previous errors
        this.clearFieldError(field);
        
        // Required field validation
        if (field.hasAttribute('required') && !value) {
            this.showFieldError(field, this.getTranslation('form-required'));
            return false;
        }
        
        // Email validation
        if (field.type === 'email' && value && !this.isValidEmail(value)) {
            this.showFieldError(field, this.getTranslation('form-email-invalid'));
            return false;
        }
        
        // Phone validation
        if (field.type === 'tel' && value && !this.isValidPhone(value)) {
            this.showFieldError(field, this.getTranslation('form-phone-invalid'));
            return false;
        }
        
        return true;
    }
    
    showFieldError(field, message) {
        field.classList.add('error');
        const errorDiv = document.createElement('div');
        errorDiv.className = 'field-error';
        errorDiv.textContent = message;
        errorDiv.style.cssText = `
            color: #dc2626;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: block;
        `;
        field.parentNode.insertBefore(errorDiv, field.nextSibling);
    }
    
    clearFieldError(field) {
        field.classList.remove('error');
        const errorDiv = field.parentNode.querySelector('.field-error');
        if (errorDiv) {
            errorDiv.remove();
        }
    }
    
    async handleSubmit(e) {
        e.preventDefault();
        
        if (!this.validateForm()) {
            return;
        }
        
        this.setLoading(true);
        
        try {
            // Get form data
            const formData = new FormData(this.form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                message: formData.get('message')
            };
            
            // Simulate form submission - replace with actual endpoint
            await this.submitForm(data);
            
            this.showMessage(this.getTranslation('form-success'), 'success');
            this.form.reset();
            
        } catch (error) {
            this.showMessage(this.getTranslation('form-error'), 'error');
        } finally {
            this.setLoading(false);
        }
    }
    
    async submitForm(data) {
        // Simulate API call - replace with your actual form submission endpoint
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                // Simulate success/failure
                if (Math.random() > 0.1) { // 90% success rate for demo
                    resolve({ success: true });
                } else {
                    reject(new Error('Submission failed'));
                }
            }, 2000);
        });
    }
    
    validateForm() {
        const inputs = this.form.querySelectorAll('input[required], textarea[required]');
        let isValid = true;
        
        inputs.forEach(input => {
            if (!this.validateField(input)) {
                isValid = false;
            }
        });
        
        return isValid;
    }
    
    isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
    
    isValidPhone(phone) {
        const phoneRegex = /^[\+]?[0-9\s\-\(\)]{10,}$/;
        return phoneRegex.test(phone);
    }
    
    setLoading(isLoading) {
        if (!this.submitBtn) return;
        
        const btnText = this.submitBtn.querySelector('span');
        const btnIcon = this.submitBtn.querySelector('i');
        
        if (isLoading) {
            this.submitBtn.disabled = true;
            this.submitBtn.style.opacity = '0.7';
            if (btnIcon) btnIcon.className = 'fas fa-spinner fa-spin';
            if (btnText) btnText.textContent = this.getTranslation('form-sending');
        } else {
            this.submitBtn.disabled = false;
            this.submitBtn.style.opacity = '1';
            if (btnIcon) btnIcon.className = 'fas fa-paper-plane';
            if (btnText) btnText.textContent = this.getTranslation('form-submit');
        }
    }
    
    showMessage(message, type) {
        // Remove existing message
        const existingMessage = this.form.querySelector('.form-message');
        if (existingMessage) {
            existingMessage.remove();
        }
        
        // Create new message
        const messageDiv = document.createElement('div');
        messageDiv.className = `form-message form-message-${type}`;
        messageDiv.textContent = message;
        
        // Add styles
        messageDiv.style.cssText = `
            padding: 12px 16px;
            margin-top: 16px;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
            font-weight: 500;
            ${type === 'success' ? 
                'background: #f0f9ff; color: #0369a1; border: 1px solid #bae6fd;' : 
                'background: #fef2f2; color: #dc2626; border: 1px solid #fecaca;'
            }
        `;
        
        this.form.appendChild(messageDiv);
        
        // Remove message after 5 seconds
        setTimeout(() => {
            if (messageDiv.parentNode) {
                messageDiv.remove();
            }
        }, 5000);
    }
}

// Enhanced Statistics Counter Animation
function animateCounters() {
    const counters = document.querySelectorAll('.stat-number');
    
    counters.forEach(counter => {
        const target = parseInt(counter.textContent.replace(/\D/g, ''));
        const duration = 2000;
        const increment = target / (duration / 16);
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            
            const suffix = counter.textContent.replace(/\d/g, '').replace(/\+/g, '');
            counter.textContent = Math.floor(current) + suffix;
        }, 16);
    });
}

// Static sections - no parallax effect
function initializeParallax() {
    // Parallax disabled to prevent section overlapping
    return;
}

// Enhanced Language Switching with Storage
function changeLanguage(lang) {
    console.log('Changing language to:', lang);
    
    // Update active button state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
    
    // Update content with data-translate attributes
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        console.log('Translating:', key, 'to', translations[lang] ? translations[lang][key] : 'NOT FOUND');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'META') {
                element.setAttribute('content', translations[lang][key]);
            } else if (element.hasAttribute('aria-label')) {
                element.setAttribute('aria-label', translations[lang][key]);
            } else if (element.hasAttribute('alt')) {
                element.setAttribute('alt', translations[lang][key]);
            } else if (key.includes('title') || key.includes('description') || key.includes('copyright')) {
                element.innerHTML = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });

    // Update placeholders with data-translate-placeholder attributes
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (translations[lang] && translations[lang][key]) {
            element.setAttribute('placeholder', translations[lang][key]);
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Store language preference
    localStorage.setItem('preferredLanguage', lang);
}

// Enhanced Mobile Menu (if needed in future)
function initializeMobileMenu() {
    // Placeholder for mobile menu functionality
    // Will be implemented if mobile hamburger menu is added
}

// Performance Monitoring
function initializePerformanceMonitoring() {
    if ('performance' in window) {
        window.addEventListener('load', () => {
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            console.log(`Page loaded in ${loadTime}ms`);
            
            // Log Core Web Vitals if supported
            if ('web-vital' in window) {
                // Implementation for Core Web Vitals monitoring
            }
        });
    }
}

// Initialize scroll animations - DISABLED
function initializeScrollAnimations() {
    // Scroll animations disabled per user request
    return;
    
    // Create intersection observer for fade-in animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.animationPlayState = 'running';
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '50px'
    });
    
    // Observe all fade-in-up elements
    document.querySelectorAll('.fade-in-up').forEach(el => {
        el.style.animationPlayState = 'paused';
        observer.observe(el);
    });
    
    // Add stagger effect to project cards
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
    });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Enhanced page loading with smooth transitions
    document.body.classList.add('page-transition');
    
    // Show loading screen
    showLoading();
    
    // Simulate loading time for polish effect
    setTimeout(() => {
        hideLoading();
        document.body.classList.add('loaded');
    }, 1200);
    
    // Initialize language from storage or default to Turkish
    const preferredLanguage = localStorage.getItem('preferredLanguage') || 'tr';
    if (preferredLanguage !== 'tr') {
        changeLanguage(preferredLanguage);
    }
    
    // Initialize premium effects
    initializePremiumEffects();
    
    // Initialize simple effects
    initializeSimpleEffects();
    
    // Initialize scroll animations
    initializeScrollAnimations();
    
    // Initialize mobile navigation
    const mobileNav = new MobileNavigation();
    
    // Initialize progress indicator
    const progressIndicator = new ProgressIndicator();
    
    // Initialize simple contact form
    new SimpleContactForm();
    
    // Add scroll listener
    window.addEventListener('scroll', handleScroll);
    
    // Parallax effect removed per user request
    // addParallaxEffect();
    
    // Enhanced scroll listener
    window.addEventListener('scroll', () => {
        updateScrollProgress();
        // Throttle scroll events for performance
        clearTimeout(window.scrollTimeout);
        window.scrollTimeout = setTimeout(() => {
            // Additional scroll-based effects can be added here
        }, 16); // ~60fps
    });
});

// Premium effects initialization
function initializePremiumEffects() {
    // Enhanced intersection observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('in-view');
                
                // Add staggered animation for project cards
                if (entry.target.classList.contains('project-card')) {
                    const cards = entry.target.parentElement.querySelectorAll('.project-card');
                    cards.forEach((card, index) => {
                        setTimeout(() => {
                            card.style.animationDelay = `${index * 0.1}s`;
                            card.classList.add('animate-in');
                        }, index * 100);
                    });
                }
            }
        });
    }, observerOptions);
    
    // Observe elements for animations
    const elementsToObserve = document.querySelectorAll('.section-title, .subsection-title, .project-card, .vision-card, .mission-card');
    elementsToObserve.forEach(el => observer.observe(el));
    
    // Enhanced image lazy loading with fade-in effect
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.onload = () => {
                    img.classList.add('loaded');
                };
                if (img.complete) {
                    img.classList.add('loaded');
                }
                imageObserver.unobserve(img);
            }
        });
    });
    
    const lazyImages = document.querySelectorAll('img[loading="lazy"]');
    lazyImages.forEach(img => imageObserver.observe(img));
    
    // Add ripple effect to buttons
    addRippleEffect();
    
    // Enhanced form validation
    enhanceFormValidation();
    
    // Add premium hover effects
    addPremiumHoverEffects();
}

// Add ripple effect to buttons
function addRippleEffect() {
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.classList.add('btn-ripple');
        
        button.addEventListener('click', function(e) {
            const ripple = document.createElement('span');
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');
            
            button.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });
}

// Enhanced form validation with premium feedback
function enhanceFormValidation() {
    const forms = document.querySelectorAll('form');
    forms.forEach(form => {
        const inputs = form.querySelectorAll('.form-control, input, textarea');
        
        inputs.forEach(input => {
            // Add floating label effect
            if (!input.parentNode.querySelector('.floating-label')) {
                const label = document.createElement('label');
                label.textContent = input.placeholder;
                label.classList.add('floating-label');
                input.parentNode.appendChild(label);
                
                input.addEventListener('focus', () => {
                    label.classList.add('active');
                });
                
                input.addEventListener('blur', () => {
                    if (!input.value) {
                        label.classList.remove('active');
                    }
                });
            }
            
            // Real-time validation
            input.addEventListener('input', () => {
                validatePremiumInput(input);
            });
        });
    });
}

// Premium input validation
function validatePremiumInput(input) {
    const value = input.value.trim();
    const type = input.type;
    
    input.classList.remove('error', 'success');
    
    if (value === '') {
        return;
    }
    
    let isValid = true;
    
    if (type === 'email') {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        isValid = emailRegex.test(value);
    } else if (type === 'tel') {
        const phoneRegex = /^[\+]?[0-9\s\-\(\)]{10,}$/;
        isValid = phoneRegex.test(value);
    } else if (input.hasAttribute('required')) {
        isValid = value.length > 0;
    }
    
    input.classList.add(isValid ? 'success' : 'error');
}

// Add premium hover effects
function addPremiumHoverEffects() {
    // Enhanced project card interactions
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            // Add subtle rotation and scale
            card.style.transform = 'translateY(-8px) rotateX(2deg) rotateY(1deg)';
            card.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
        });
        
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0) rotateX(0) rotateY(0)';
        });
    });
    
    // Enhanced navigation interactions
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
        link.addEventListener('mouseenter', () => {
            link.style.transform = 'translateY(-1px)';
            link.style.textShadow = '0 2px 8px rgba(44, 90, 160, 0.3)';
        });
        
        link.addEventListener('mouseleave', () => {
            link.style.transform = 'translateY(0)';
            link.style.textShadow = 'none';
        });
    });
}

// Premium parallax effect for hero section - DISABLED per user request
/*
function addParallaxEffect() {
    const hero = document.querySelector('.hero');
    if (hero && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const rate = scrolled * -0.5;
            hero.style.transform = `translateY(${rate}px)`;
        });
    }
}
*/

// Enhanced scroll progress with color transitions and header effects
function updateScrollProgress() {
    const progressBar = document.querySelector('.progress-bar');
    if (progressBar) {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        
        progressBar.style.width = scrolled + '%';
        
        // Color transition based on scroll position
        const hue = Math.min(scrolled * 2, 180);
        progressBar.style.background = `linear-gradient(90deg, hsl(${hue}, 70%, 50%), hsl(${hue + 20}, 70%, 60%))`;
    }
}

// Enhanced smooth scrolling with dynamic easing
function smoothScrollTo(targetId) {
    const target = document.querySelector(targetId);
    if (target) {
        const targetPosition = target.offsetTop - 80;
        const startPosition = window.pageYOffset;
        const distance = targetPosition - startPosition;
        const duration = Math.min(Math.abs(distance) / 2, 1200); // Dynamic duration
        let start = null;

        function step(timestamp) {
            if (!start) start = timestamp;
            const progress = timestamp - start;
            const progressPercentage = Math.min(progress / duration, 1);
            
            // Dynamic easing based on distance
            const easing = distance > 1000 
                ? easeInOutQuart(progressPercentage)
                : easeInOutCubic(progressPercentage);
            
            window.scrollTo(0, startPosition + distance * easing);
            
            if (progress < duration) {
                requestAnimationFrame(step);
            }
        }
        
        requestAnimationFrame(step);
    }
}

// Easing functions
function easeInOutCubic(t) {
    return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
}

function easeInOutQuart(t) {
    return t < 0.5 ? 8 * t * t * t * t : 1 - Math.pow(-2 * t + 2, 4) / 2;
}

// Performance optimization for animations
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
if (prefersReducedMotion.matches) {
    // Disable complex animations for users who prefer reduced motion
    document.documentElement.style.setProperty('--transition-duration', '0.1s');
}

// Enhanced Performance Monitoring
class PerformanceMonitor {
    constructor() {
        this.metrics = {
            loadTime: 0,
            firstPaint: 0,
            domContentLoaded: 0,
            scrollEvents: 0
        };
        
        this.trackPerformance();
    }
    
    trackPerformance() {
        // Track load time
        window.addEventListener('load', () => {
            this.metrics.loadTime = performance.now();
            this.reportMetrics();
        });
        
        // Track First Paint
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.name === 'first-paint') {
                        this.metrics.firstPaint = entry.startTime;
                    }
                }
            });
            observer.observe({ entryTypes: ['paint'] });
        }
        
        // Track DOM Content Loaded
        document.addEventListener('DOMContentLoaded', () => {
            this.metrics.domContentLoaded = performance.now();
        });
        
        // Throttled scroll tracking
        let scrollCount = 0;
        const throttledScroll = this.throttle(() => {
            scrollCount++;
            this.metrics.scrollEvents = scrollCount;
        }, 100);
        
        window.addEventListener('scroll', throttledScroll);
    }
    
    throttle(func, delay) {
        let timeoutId;
        let lastExecTime = 0;
        return function (...args) {
            const currentTime = Date.now();
            
            if (currentTime - lastExecTime > delay) {
                func.apply(this, args);
                lastExecTime = currentTime;
            } else {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => {
                    func.apply(this, args);
                    lastExecTime = Date.now();
                }, delay - (currentTime - lastExecTime));
            }
        };
    }
    
    reportMetrics() {
        if (process.env.NODE_ENV === 'development') {
            console.log('Performance Metrics:', this.metrics);
        }
    }
}

// Enhanced Mobile Navigation
class MobileNavigation {
    constructor() {
        this.menuToggle = document.getElementById('mobileMenuToggle');
        this.mobileNav = document.getElementById('mobileNav');
        this.mobileOverlay = document.getElementById('mobileOverlay');
        this.mobileLinks = document.querySelectorAll('.mobile-nav-link');
        this.isOpen = false;
        
        this.init();
    }
    
    init() {
        if (!this.menuToggle || !this.mobileNav) return;
        
        this.bindEvents();
    }
    
    bindEvents() {
        // Toggle menu
        this.menuToggle.addEventListener('click', () => {
            this.toggleMenu();
        });
        
        // Close on overlay click
        this.mobileOverlay.addEventListener('click', () => {
            this.closeMenu();
        });
        
        // Close on link click
        this.mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                this.closeMenu();
            });
        });
        
        // Close on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.isOpen) {
                this.closeMenu();
            }
        });
        
        // Handle resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 640 && this.isOpen) {
                this.closeMenu();
            }
        });
    }
    
    toggleMenu() {
        if (this.isOpen) {
            this.closeMenu();
        } else {
            this.openMenu();
        }
    }
    
    openMenu() {
        this.isOpen = true;
        this.menuToggle.classList.add('active');
        this.mobileNav.classList.add('active');
        this.mobileOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Focus management
        this.mobileLinks[0]?.focus();
    }
    
    closeMenu() {
        this.isOpen = false;
        this.menuToggle.classList.remove('active');
        this.mobileNav.classList.remove('active');
        this.mobileOverlay.classList.remove('active');
        document.body.style.overflow = '';
    }
}

// Enhanced Progress Bar
class ProgressIndicator {
    constructor() {
        this.progressBar = document.getElementById('progressBar');
        this.init();
    }
    
    init() {
        if (!this.progressBar) {
            this.createProgressBar();
        }
        
        this.updateProgress();
        window.addEventListener('scroll', () => this.updateProgress());
    }
    
    createProgressBar() {
        const container = document.createElement('div');
        container.className = 'progress-container';
        
        const bar = document.createElement('div');
        bar.className = 'progress-bar';
        bar.id = 'progressBar';
        
        container.appendChild(bar);
        document.body.appendChild(container);
        
        this.progressBar = bar;
    }
    
    updateProgress() {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        
        if (this.progressBar) {
            this.progressBar.style.width = scrolled + '%';
        }
    }
}

// Gallery functionality
function changeSlide(button, direction) {
    const gallery = button.closest('.project-gallery');
    const slides = gallery.querySelectorAll('.gallery-slide');
    const indicators = gallery.querySelectorAll('.indicator');
    
    // Find current active slide
    let currentIndex = 0;
    slides.forEach((slide, index) => {
        if (slide.classList.contains('active')) {
            currentIndex = index;
        }
    });
    
    // Remove active class from current slide and indicator
    slides[currentIndex].classList.remove('active');
    indicators[currentIndex].classList.remove('active');
    
    // Calculate new index
    let newIndex = currentIndex + direction;
    if (newIndex >= slides.length) {
        newIndex = 0;
    } else if (newIndex < 0) {
        newIndex = slides.length - 1;
    }
    
    // Add active class to new slide and indicator
    slides[newIndex].classList.add('active');
    indicators[newIndex].classList.add('active');
}

function currentSlide(indicator, slideNumber) {
    const gallery = indicator.closest('.project-gallery');
    const slides = gallery.querySelectorAll('.gallery-slide');
    const indicators = gallery.querySelectorAll('.indicator');
    
    // Remove active class from all slides and indicators
    slides.forEach(slide => slide.classList.remove('active'));
    indicators.forEach(ind => ind.classList.remove('active'));
    
    // Add active class to selected slide and indicator
    const newIndex = slideNumber - 1;
    slides[newIndex].classList.add('active');
    indicators[newIndex].classList.add('active');
}

// Mobile Projects Toggle Functionality - DISABLED
// User requested to remove collapse/expand functionality for "tüm projelerimiz"
// Keep projects section in wide form always
document.addEventListener('DOMContentLoaded', function() {
    const allProjectsSection = document.getElementById('allProjectsSection');
    const toggle = document.getElementById('mobileProjectsToggle');
    
    // Always keep projects section expanded and hide toggle button
    if (allProjectsSection) {
        allProjectsSection.classList.add('expanded');
    }
    
    // Hide the mobile toggle button completely
    if (toggle) {
        toggle.style.display = 'none';
    }
});

//# sourceMappingURL=main.js.map
